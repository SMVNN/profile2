<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>My profile</title>
    <link href="https://fonts.googleapis.com/css?family=Amatic+SC|Josefin+Sans&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="style.css">
    <script>
      const getMessagesAndAnswer = () => {
        window.addEventListener("message", function(message) {
        console.log(message.origin);
          if (message.origin == "http://localhost:3000") {
              console.log("coucou");
            if (message.data == "init") {
            const h = document.querySelectorAll("h1, h2, h3, h4, h5, h6, li, p, div, span, mark, ins, del, sup, sub, small, i, b, blockquote, q, strong, em");
            console.log(h);
            h.forEach ((tag) => {
              if (tag.childNodes[0] && tag.childNodes[0].textContent.trim() != "") {
                tag.contentEditable = "true";
                tag.addEventListener("click", () => {
                  const old_content = tag.innerText;
                }, { once: true });
                  message.source.postMessage(old_content, event.origin)
                tag.addEventListener("keyup", () => {
                  const new_content = tag.innerText;
                  message.source.postMessage(new_content, event.origin)
                });
            } else {
              return;
              }
            })
            }
          }
        });
      }
      getMessagesAndAnswer();
    </script>
  </head>
  <body>
    <img src="images/pp.jpg" alt="Swann" id="pp">
    <h1>~ Hello, I'm Swann, welcome to my page ! ~</h1>
    <div class="para">
      <h2>💻 - I'm a newbie web programmer ! </h2>
      <p id="des">✴️ I'm 22 years old, from Corsica. 🏝️<br>✴️ I live in Paris, France. 🇫🇷<br>✴️ I'm learning web developpement at le Wagon. 🚞</p>
    </div>
    <div class="footer">
      <p id="footer_intro">🌐 - Join me on my social medias :</p>
      <ul class="icons">
        <li>
          <a href="#">
            <i class="fab fa-facebook-f"></i>
          </a>
        </li>
        <li>
          <a href="#">
            <i class="fab fa-linkedin-in"></i>
          </a>
        </li>
        <li>
          <a href="#">
            <i class="fas fa-hashtag"></i>
          </a>
        </li>
      </ul>
    </div>
  </body>
</html>
